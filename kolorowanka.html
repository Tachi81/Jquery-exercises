<!DOCTYPE html>
<html>

<head>
    <title>HTML Application - KOLOROWANKA</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="js/jquery.js"></script>
    <style type="text/css">
        div {
            float: left;
            width: 29%;
            height: 240px;
            margin: 1%;
            border: 2px solid #000000;
            background: #FFFFFF;
        }

        div>div {
            height: 65px
        }

        div>div>div {
            height: 15px;
            width: 20%
        }
    </style>
</head>

<body>


    <div>

        <input type="color" name="color" id="color" />
        <input type="button" name="dodaj" value="dodaj" id="dodaj" />
        <input type="button" name="usun" value="usun" id="usun" />


    </div>
    <div></div>
    <div></div>
    <div></div>
    <div>

        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div>

            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>

        </div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>

    </div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>


    <script type="text/javascript">



        $(function () {

            let flagDodaj = false;
            let flagusun = false;
            $('#dodaj').click(function () { flagDodaj = !flagDodaj; })
            $('#usun').click(function () { flagusun = !flagusun; })


            $('div').click(function (e) {
                if (flagusun){
                    if ($(e.target).is('div'))
                    $(e.target).remove()
                }
               else if (!flagDodaj) {
                    $(e.target).css('background', $('#color').val())
                } else {
                    $(e.target).append('<div>')

                }
            })

        });

    </script>
</body>

</html>